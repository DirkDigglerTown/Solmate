<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Solmate - Your AI-powered Solana companion for crypto, DeFi, and web3">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    
    <title>Solmate - Your Solana AI Companion</title>
    
    <!-- Icons and manifest -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/logo/solmatelogo.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/logo/solmatelogo.png">
    <link rel="manifest" href="/manifest.webmanifest">
    
    <!-- Theme color -->
    <meta name="theme-color" content="#0a0e17">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="/style.css">
    
    <!-- Module scripts -->
    <script type="module" src="/js/main.js"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <img src="/assets/logo/solmatelogo.png" alt="Solmate Logo" class="loading-logo" onerror="this.style.display='none'">
            <div id="loadingStatus" class="loading-status">Initializing Solmate...</div>
            <div class="loading-spinner"></div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app" style="display: none;">
        <!-- Header HUD -->
        <header class="hud">
            <div class="left">
                <button id="themeToggle" class="icon-btn" aria-label="Toggle theme">ðŸŒ™</button>
                <div class="pill ws" id="wsLight" aria-live="polite">
                    WS OFF
                </div>
            </div>
            <div class="center">
                <div class="pill sol" id="solPrice" aria-live="polite">
                    SOL â€” Loading...
                </div>
            </div>
            <div class="right">
                <div class="pill tps" id="networkTPS" aria-live="polite">
                    â€” TPS
                </div>
            </div>
        </header>

        <!-- 3D Canvas Container -->
        <main class="stage-wrap">
            <canvas id="vrmCanvas" aria-label="3D Avatar Display"></canvas>
        </main>

        <!-- VU Meter -->
        <div class="vu-wrap" aria-hidden="true">
            <div class="vu" id="vuMeter"></div>
        </div>

        <!-- Chat Dock -->
        <div class="dock" id="chatDock">
            <form id="chatForm" class="chat-form">
                <input 
                    id="promptInput" 
                    type="text" 
                    class="ask" 
                    placeholder="Ask anything about Solana, crypto, or just vibe..."
                    maxlength="500"
                    aria-label="Chat input"
                    autocomplete="off"
                >
                <select id="voiceSelect" class="sel" aria-label="Voice selection">
                    <option value="nova">Nova</option>
                    <option value="verse">Verse</option>
                    <option value="alloy">Alloy</option>
                    <option value="aria">Aria</option>
                    <option value="echo">Echo</option>
                    <option value="fable">Fable</option>
                    <option value="onyx">Onyx</option>
                    <option value="shimmer">Shimmer</option>
                </select>
                <button type="submit" id="sendBtn" class="send icon-btn" aria-label="Send message">â–¶</button>
                <button type="button" id="clearBtn" class="icon-btn" aria-label="Clear audio">ðŸ”‡</button>
            </form>
        </div>

        <!-- Typing Indicator -->
        <div id="typingIndicator" class="typing hidden" aria-live="polite">
            Solmate is thinking...
        </div>

        <!-- Debug Overlay -->
        <aside id="debugOverlay" class="overlay hidden" aria-hidden="true">
            <details id="debugTips">
                <summary>Debug Info</summary>
                <div id="overlayLogs"></div>
                <div class="debug-controls">
                    <kbd>Ctrl+D</kbd> Toggle debug
                    <br>
                    <small>Check console for detailed logs</small>
                </div>
            </details>
        </aside>

        <!-- Error Container -->
        <div id="errorContainer" class="error-container" aria-live="assertive"></div>
    </div>

    <!-- Noscript fallback -->
    <noscript>
        <div class="noscript-message">
            <h1>JavaScript Required</h1>
            <p>Solmate requires JavaScript to run. Please enable JavaScript in your browser settings.</p>
        </div>
    </noscript>
</body>
</html>
